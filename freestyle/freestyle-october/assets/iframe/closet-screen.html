<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Proxi — Your Closet (Visual‑First)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#FFFFFF; --ink:#1F1F1F; --muted:#6F6F74;
      /* Proxi brand */
      --petrol-600:#009090; --petrol-500:#00A3A3; --petrol-400:#16B5B5; --petrol-100:#E0F7F7;
      --mint-400:#A6FFCB; --ice-300:#7FE1FF;
      /* Adaptive CTA ramp (deepened default for contrast) */
      --cta-start:#008888; --cta-mid:#3ECFD5; --cta-end:#9BFFCF;
      --card:#fff; --border:#E8E4DE; --shadow:0 12px 30px rgba(0,0,0,.08);
      --r:16px; --r-lg:22px; --r-xl:28px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html{background:transparent}
    body{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;background:transparent;color:var(--ink);height:100vh;display:flex;align-items:flex-start;justify-content:center;padding:5px;padding-top:60px;overflow:hidden}

    /* Phone shell */
    .phone{width:430px;height:922px;border-radius:55px;background:#fff;border:2px solid #000;position:relative;transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}
    .screen{position:absolute;inset:2px;background:#fff;border-radius:53px;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column}
    .island{position:absolute;top:11px;left:50%;transform:translateX(-50%);width:126px;height:37px;background:#000;border-radius:19px;z-index:5}
    .status{height:54px;margin-top:3px;display:flex;align-items:center;justify-content:space-between;padding:0 30px;font-weight:600;color:#000;font-size:17px;letter-spacing:-.02em}
    .status .right{display:flex;align-items:center;gap:6px}
    .status .right img{height:13px;width:auto;display:block}

    /* Header */
    .header{padding:20px 0px 0px;display:flex;align-items:center;justify-content:center;position:relative;margin-top:-16px}
    .logo{font-weight:600;font-size:32px;line-height:1.2;letter-spacing:-.01em;background:linear-gradient(135deg,var(--cta-start),var(--cta-mid) 46%,var(--cta-end));
      -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}


    /* Top chips / filters */
    .filters{background:var(--bg);padding:4px 24px 10px;border-bottom:1px solid rgba(0,0,0,.06);margin-top:8px}
    .chips{display:flex;gap:8px;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none}
    .chips::-webkit-scrollbar{display:none}
    .chip{border:1px solid var(--border);background:#fff;color:#1F1F1F;border-radius:999px;padding:8px 12px;font-size:12px;white-space:nowrap}
    .chip.active{background:var(--petrol-100);color:var(--petrol-600);border-color:var(--petrol-400);font-weight:700;box-shadow:0 2px 8px rgba(0,163,163,.12)}

    /* View toggle */
    .view-toggle{margin-left:auto;display:flex;gap:6px;align-items:center}
    .switch{border:1px solid var(--border);background:#fff;padding:8px 10px;border-radius:999px;font:600 12px/1 Inter;color:#4C4C50;cursor:pointer}
    .switch.active{color:var(--petrol-600);border-color:rgba(0,163,163,.25);background:rgba(0,163,163,.08)}

    /* Content */
    .content{flex:1;overflow:auto;padding:8px 24px 96px}
    .title{font:800 26px/1.1 Inter;margin:0px 0 8px}
    .section{margin-top:14px}

    /* Item cards */
    .list{display:grid;grid-template-columns:1fr;gap:14px}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}

    .card{position:relative;overflow:hidden;border-radius:18px;background:#f8f8fb;border:1px solid #eee6;box-shadow:0 10px 30px rgba(0,0,0,.08), 0 4px 12px rgba(0,0,0,.03);transition:transform 0.2s ease, box-shadow 0.2s ease;cursor:pointer}
    .card:hover{transform:translateY(-2px);box-shadow:0 15px 40px rgba(0,0,0,.12), 0 6px 16px rgba(0,0,0,.04)}
    .img{width:100%;height:400px;object-fit:cover;object-position:center}
    .img.tall{height:400px}
    .overlay{position:absolute;inset:auto 0 0 0;padding:10px 10px 12px;background:linear-gradient(180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,.1) 30%,rgba(0,0,0,.3) 60%,rgba(0,0,0,.5) 100%);color:#fff}
    .brand{font:700 11px/1 Inter;letter-spacing:.04em;opacity:.95}
    .name{font:600 14px/1.2 Inter;margin-top:2px}
    /* Size chip (original dark translucent badge at top-left) */
    .size{position:absolute;top:10px;left:10px;padding:6px 10px;border-radius:999px;background:rgba(0,0,0,.45);backdrop-filter:blur(2px);color:#fff;font:700 12px/1 Inter;z-index:3}

    /* Legend under title (Option A) */
    .legend{display:flex; align-items:baseline; gap:.1rem; margin-top:6px; margin-bottom:10px; font-size:clamp(13px,1.7vw,16px); line-height:1.35; color:#6A7A87}
    .legend-term{font-weight:600; display:inline-flex; align-items:baseline; gap:.1rem; color:#34424D}
    .legend .equiv{display:inline-block; position:relative; width:1.2em; height:.8em; vertical-align:baseline; margin:0 0.05em}
    .legend .equiv .bar{position:absolute; left:0.1em; width:0.95em; height:0.11em; border-radius:0.055em; background:linear-gradient(135deg, #008888 0%, #34C3CC 46%, #5DDFD5 100%)}
    .legend .equiv .bar:nth-child(1){top:0.15em}
    .legend .equiv .bar:nth-child(2){top:0.39em}
    .legend .equiv .bar:nth-child(3){top:0.63em}
    .legend-def{color:#6A7A87; font-weight:500}

    .icon-proxi{
      --size: 16px;
      width: var(--size);
      height: var(--size);
      display:inline-block;
      color: #009090 !important;
      vertical-align:-0.05em;
    }
    .icon-proxi use{fill:currentColor;}
    

    .card{position:relative}
    .card img{display:block; border-radius:14px}
    /* --- Proxi Pill · signature (tight + high-contrast) v4 --- */
    .proxy-pill{
      position:absolute !important; top:10px !important; right:10px !important; z-index:3 !important;
      display:inline-flex !important; align-items:center !important; justify-content:center !important; gap:4px !important;
      padding:3px 7px !important;                /* reduced by 1px from previous */
      border-radius:9999px !important;
      background:#FFFFFF !important;                         /* strong contrast on imagery */
      border:1px solid rgba(0,0,0,.16) !important;           /* neutral stroke for definition */
      box-shadow:0 2px 6px rgba(0,0,0,.12) !important;
      color:#0B3D3A !important;                              /* deep petrol ink */
      font:700 12px/1 Inter, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial !important;
      user-select:none !important; cursor:default !important;
    }

    /* Triple bar SVG icon in proxy pill */
    .proxy-pill .icon-proxi{
      --size: 14px;
      color: #009090 !important;
    }
    .proxy-pill .count{font-weight:700; font-size:12px; font-feature-settings:"tnum" 1; color:#34424D !important}

    /* Disabled (if needed) */
    .proxy-pill[aria-disabled="true"] { opacity: .45; }

    /* Optional hover for web demo */
    .proxy-pill:hover { filter: brightness(.95); }

    /* bottom sheet */
    /* Proxies Modal */
    .proxy-modal{position:absolute;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;padding:20px}
    .proxy-modal[hidden]{display:none}
    .proxy-modal__overlay{position:absolute;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(8px);animation:fadeIn .3s ease}
    .proxy-modal__card{position:relative;width:100%;max-width:420px;background:#fff;border-radius:24px;padding:36px 28px 28px;box-shadow:0 20px 60px rgba(0,0,0,.3);animation:slideUp .4s cubic-bezier(.34,1.56,.64,1)}
    .proxy-modal__close{position:absolute;top:12px;right:14px;width:24px;height:24px;border:none;background:rgba(0,0,0,.05);border-radius:50%;color:#666;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}
    .proxy-modal__close:hover{background:rgba(0,0,0,.1);transform:scale(1.05)}
    .proxy-modal__header{text-align:center;margin-bottom:23px;padding-top:5px}
    .proxy-modal__title{font:800 20px/1.3 Inter;color:#0B0F14;margin:0}
    .proxy-list{display:flex;flex-direction:column;gap:16px;margin-bottom:28px}
    .proxy-item{display:flex;align-items:center;padding:16px;background:#fff;border-radius:14px;border:1px solid #E5E7EB;transition:all .2s;cursor:pointer}
    .proxy-item:hover{background:#f7f9fb;box-shadow:0 6px 16px rgba(0,0,0,.06)}
    .proxy-content{flex:1;display:flex;align-items:center;gap:8px}
    .proxy-username{font:600 15px/1.3 Inter;color:#0B0F14}
    .proxy-details{font:400 14px/1.3 Inter;color:#6B7280}
    .proxy-modal__footer{display:flex;flex-direction:column;gap:14px;align-items:stretch}
    .proxy-modal__cta{width:100%;padding:15px 24px;background:linear-gradient(135deg,#00A3A3,#5ECED7);color:#fff;border:none;border-radius:12px;font:700 16px/1 Inter;cursor:pointer;transition:all .2s;box-shadow:0 4px 14px rgba(83,224,207,.35)}
    .proxy-modal__cta:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(83,224,207,.45)}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes slideUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}

    /* Tab bar */
    .tabs{position:absolute;left:0;right:0;bottom:0;height:83px;background:#fff;border-top:1px solid rgba(0,0,0,.06);display:flex;justify-content:space-around;align-items:flex-start;padding-top:8px;padding-bottom:34px}
    .tab{display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:#8e8e93;font-size:11px;font-weight:500}
    .tab.active{color:var(--petrol-600)}
    .ico{width:28px;height:28px}
    .tab .ico use{fill:currentColor}
    .tab[href*="feed"] .ico{transform:translateY(1px) scale(0.9)}

    /* Modal popup CSS removed */

    /* Accessibility focus */
    .chip:focus-visible,
    .switch:focus-visible,
    .btn:focus-visible{outline:2px solid var(--petrol-500);outline-offset:2px}

    /* Floating Action Button (FAB) */
    .fab{position:absolute;bottom:100px;right:24px;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#009090 0%,#1FAED9 42%,#00A3A3 62%,#35D1AE 100%);border:none;box-shadow:0 8px 24px rgba(0,163,163,.4), 0 4px 12px rgba(0,0,0,.12);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s cubic-bezier(.34,1.56,.64,1);z-index:100}
    .fab:hover{transform:scale(1.1) rotate(90deg);box-shadow:0 12px 32px rgba(0,163,163,.5), 0 6px 16px rgba(0,0,0,.15)}
    .fab:active{transform:scale(0.95) rotate(90deg)}
    .fab svg{width:28px;height:28px;stroke:#fff;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round}
  </style>
</head>
<body>
  <!-- SVG gradient definition for Proxi blue -->
  <svg style="position:absolute;width:0;height:0;" aria-hidden="true">
    <defs>
      <linearGradient id="proxi-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#008888;stop-opacity:1" />
        <stop offset="46%" style="stop-color:#34C3CC;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#9BFFCF;stop-opacity:1" />
      </linearGradient>
    </defs>
    <symbol id="proxi" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <rect x="0.96" y="4" width="22.08" height="2.48" rx="1"></rect>
      <rect x="0.96" y="11" width="22.08" height="2.48" rx="1"></rect>
      <rect x="0.96" y="18" width="22.08" height="2.48" rx="1"></rect>
    </symbol>
  </svg>
  <div class="phone">
    <div class="screen" data-view="list">
      <div class="island"></div>
      <div class="status"><div>9:41</div><div class="right"><img src="../img/cellular-connection.svg" alt="cell"/><img src="../img/wifi.svg" alt="wifi"/><img src="../img/battery.svg" alt="battery"/></div></div>

      <div class="header">
        <div class="logo">proxi</div>
      </div>

      <div class="filters">
        <div style="display:flex;align-items:center;gap:10px">
          <div class="chips" id="chips">
            <button class="chip active" data-filter="all">All</button>
            <button class="chip" data-filter="tops">Tops</button>
            <button class="chip" data-filter="bottoms">Bottoms</button>
            <button class="chip" data-filter="dresses">Dresses</button>
          </div>
          <div class="view-toggle" style="margin-left:auto">
            <button class="switch" id="listBtn">List</button>
            <button class="switch active" id="gridBtn">Grid</button>
          </div>
        </div>
      </div>

      <div class="content">
        <h1 class="title">Your Closet</h1>
        <div class="legend" role="note">
          <span class="legend-term">Proxies <span class="equiv" aria-hidden="true"><div class="bar"></div><div class="bar"></div><div class="bar"></div></span></span>
          <span class="legend-def">users who share your size</span>
        </div>

        <div id="items" class="grid">
          <!-- Cards (use data-category for filtering) -->
          <article class="card" data-category="dresses" data-name="J.CREW Halter Mixy Dress" data-size="S">
            <span class="size" aria-label="Your size for this item">S</span>
            <button class="proxy-pill" aria-label="4 proxies for this item in your size">
              <svg class="icon-proxi" viewBox="0 0 256 256" aria-hidden="true">
                <path fill="currentColor" d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"/>
              </svg>
              <span class="count">4</span>
            </button>
            <a href="https://www.jcrew.com/p/womens/categories/clothing/dresses-and-jumpsuits/halter-mixy-dress/CL648" target="_blank" rel="noopener noreferrer">
              <img class="img tall" src="../img/CL648_RD0165_m.png" alt="J.Crew Halter Mixy Dress">
              <div class="overlay"><div class="brand">J.CREW</div><div class="name">Halter Mixy Dress</div></div>
            </a>
          </article>

          <article class="card" data-category="dresses" data-name="GEORGIA HARDINGE Relic Dress" data-size="UK 8">
            <span class="size" aria-label="Your size for this item">UK 8</span>
            <img class="img tall" src="https://cdn.modaoperandi.com/assets/images/products/1048452/695474/c2/large_georgia-hardinge-gold-relic-dress.jpg?_v=1755324586" alt="Georgia Hardinge Relic Pleated Metallic‑Knit Maxi Dress">
            <div class="overlay"><div class="brand">GEORGIA HARDINGE</div><div class="name">Relic Pleated Metallic‑Knit Maxi Dress</div></div>
          </article>

          <article class="card" data-category="tops" data-name="Reformation Taryn Two Piece" data-size="2">
            <span class="size" aria-label="Your size for this item">2</span>
            <button class="proxy-pill" aria-label="2 proxies for this item in your size">
              <svg class="icon-proxi" viewBox="0 0 256 256" aria-hidden="true">
                <path fill="currentColor" d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"/>
              </svg>
              <span class="count">2</span>
            </button>
            <img class="img" src="https://media.thereformation.com/image/upload/f_auto,q_auto:eco,dpr_2.0/w_500/PRD-SFCC/1314122/BLACK/1314122.1.BLACK?_s=RAABAB0" alt="Reformation Taryn Two Piece">
            <div class="overlay"><div class="brand">REFORMATION</div><div class="name">Taryn Two Piece</div></div>
          </article>

          <article class="card" data-category="tops" data-name="ALFIE Open Back Cotton Poplin Top" data-size="Small">
            <span class="size" aria-label="Your size for this item">Small</span>
            <button class="proxy-pill" aria-label="1 proxy for this item in your size">
              <svg class="icon-proxi" viewBox="0 0 256 256" aria-hidden="true">
                <path fill="currentColor" d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"/>
              </svg>
              <span class="count">1</span>
            </button>
            <img class="img" src="https://cdn.modaoperandi.com/assets/images/products/1028958/674197/c/large_alfie-white-backless-top.jpg?_v=1755087491" alt="ALFIE Open Back Cotton Poplin Top">
            <div class="overlay"><div class="brand">ALFIE</div><div class="name">Open Back Cotton Poplin Top</div></div>
          </article>

          <article class="card" data-category="bottoms" data-name="AYR The Secret Sauce" data-size="26S">
            <span class="size" aria-label="Your size for this item">26S</span>
            <button class="proxy-pill" aria-label="1 proxy for this item in your size">
              <svg class="icon-proxi" viewBox="0 0 256 256" aria-hidden="true">
                <path fill="currentColor" d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"/>
              </svg>
              <span class="count">1</span>
            </button>
            <img class="img" src="https://www.ayr.com/cdn/shop/files/secretsauce-goodmood_CAT_d634f664-cb49-4e61-abef-5d94b707075e.jpg?crop=center&height=1440&v=1755036845&width=950" alt="AYR The Secret Sauce">
            <div class="overlay"><div class="brand">AYR</div><div class="name">The Secret Sauce</div></div>
          </article>

          <article class="card" data-category="bottoms" data-name="ZARA Flare Pants" data-size="M">
            <span class="size" aria-label="Your size for this item">M</span>
            <button class="proxy-pill" aria-label="5 proxies for this item in your size">
              <svg class="icon-proxi" viewBox="0 0 256 256" aria-hidden="true">
                <path fill="currentColor" d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"/>
              </svg>
              <span class="count">5</span>
            </button>
            <img class="img" src="https://static.zara.net/assets/public/a4e8/d8da/2c3b44728736/7e4b4c39762b/03152505800-a1/03152505800-a1.jpg?ts=1753971869534&w=1900" alt="ZARA Flare Pants">
            <div class="overlay"><div class="brand">ZARA</div><div class="name">Flare Pants</div></div>
          </article>

          <article class="card" data-category="tops" data-name="COS Shrunken T-shirt" data-size="XS">
            <span class="size" aria-label="Your size for this item">XS</span>
            <button class="proxy-pill" aria-label="3 proxies for this item in your size">
              <svg class="icon-proxi" viewBox="0 0 256 256" aria-hidden="true">
                <path fill="currentColor" d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"/>
              </svg>
              <span class="count">3</span>
            </button>
            <img class="img" src="../img/cos-shirt.png" alt="COS Shrunken T-shirt" style="object-position:45% center">
            <div class="overlay"><div class="brand">COS</div><div class="name">Shrunken T‑shirt</div></div>
          </article>

          <article class="card" data-category="dresses" data-name="ALEXIS Briette Satin Maxi Dress" data-size="S">
            <span class="size" aria-label="Your size for this item">S</span>
            <button class="proxy-pill" aria-label="1 proxy for this item in your size">
              <svg class="icon-proxi" viewBox="0 0 256 256" aria-hidden="true">
                <path fill="currentColor" d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"/>
              </svg>
              <span class="count">1</span>
            </button>
            <img class="img tall" src="https://cdn.modaoperandi.com/assets/images/products/1039207/685257/c/large_alexis-blue-briette-dress.jpg?_v=1755195214" alt="ALEXIS Briette Satin Maxi Dress">
            <div class="overlay"><div class="brand">ALEXIS</div><div class="name">Briette Satin Maxi Dress</div></div>
          </article>
        </div>
      </div>

      <!-- Bottom tabs navigation -->
      <div class="tabs">
        <a class="tab" href="#"><svg class="ico" viewBox="0 0 256 256" aria-hidden="true"><path fill="currentColor" d="M241,150.65s0,0,0-.05a51.33,51.33,0,0,0-2.53-5.9L196.93,50.18a12,12,0,0,0-2.5-3.65,36,36,0,0,0-50.92,0A12,12,0,0,0,140,55V76H116V55a12,12,0,0,0-3.51-8.48,36,36,0,0,0-50.92,0,12,12,0,0,0-2.5,3.65L17.53,144.7A51.33,51.33,0,0,0,15,150.6s0,0,0,.05A52,52,0,1,0,116,168V100h24v68a52,52,0,1,0,101-17.35ZM80,62.28a12,12,0,0,1,12-1.22v63.15a51.9,51.9,0,0,0-35.9-7.62ZM64,196a28,28,0,1,1,28-28A28,28,0,0,1,64,196ZM164,61.06a12.06,12.06,0,0,1,12,1.22l23.87,54.31a51.9,51.9,0,0,0-35.9,7.62ZM192,196a28,28,0,1,1,28-28A28,28,0,0,1,192,196Z"/></svg><span>Find</span></a>
        <a class="tab" href="feed-unified.html"><svg class="ico" viewBox="0 0 256 256" aria-hidden="true"><path fill="currentColor" d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"/></svg><span>Feed</span></a>
        <a class="tab active" href="#"><svg class="ico" viewBox="0 0 256 256" aria-hidden="true"><path fill="currentColor" d="M244,168,148,96l19.2-14.4A12,12,0,0,0,172,72a44,44,0,0,0-87.66-5.48,12,12,0,1,0,23.82,3,20,20,0,0,1,39.09-2.92L121,86.24c-.15.1-.29.21-.43.32L12,168a20,20,0,0,0,12,36H232a20,20,0,0,0,12-36ZM36,180l92-69,92,69Z"/></svg><span>Closet</span></a>
        <a class="tab" href="#"><svg class="ico" viewBox="0 0 256 256" aria-hidden="true"><path fill="currentColor" d="M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"/></svg><span>Profile</span></a>
      </div>

      <!-- Proxies Modal (inside .screen) -->
      <div id="proxy-sheet" class="proxy-modal" hidden role="dialog" aria-modal="true">
    <div class="proxy-modal__overlay"></div>
    <div class="proxy-modal__card">
      <button class="proxy-modal__close" aria-label="Close modal">
        <svg width="14" height="14" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <path d="M5 5L15 15M5 15L15 5"/>
        </svg>
      </button>

      <header class="proxy-modal__header">
        <h2 class="proxy-modal__title">Proxies for Halter Mixy Dress (S)</h2>
      </header>

      <div class="proxy-list">
        <div class="proxy-item">
          <div class="proxy-content">
            <div class="proxy-username">@ellaa76</div>
            <div class="proxy-details">12 pieces • 3 in common</div>
          </div>
        </div>
        <div class="proxy-item">
          <div class="proxy-content">
            <div class="proxy-username">@vera</div>
            <div class="proxy-details">6 pieces • 1 in common</div>
          </div>
        </div>
        <div class="proxy-item">
          <div class="proxy-content">
            <div class="proxy-username">@may_98</div>
            <div class="proxy-details">3 pieces • 2 in common</div>
          </div>
        </div>
        <div class="proxy-item">
          <div class="proxy-content">
            <div class="proxy-username">@srd24</div>
            <div class="proxy-details">1 piece • 1 in common</div>
          </div>
        </div>
      </div>

      <footer class="proxy-modal__footer">
        <button class="proxy-modal__cta">See all sizes</button>
      </footer>
    </div>
  </div>

      <!-- FAB to add item -->
      <button class="fab" id="addItemFab" aria-label="Add item">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <line x1="12" y1="5" x2="12" y2="19"/>
          <line x1="5" y1="12" x2="19" y2="12"/>
        </svg>
      </button>
    </div>

  <script>
    // View toggle (list vs grid)
    const screen = document.querySelector('.screen');
    const items = document.getElementById('items');
    const listBtn = document.getElementById('listBtn');
    const gridBtn = document.getElementById('gridBtn');
    listBtn?.addEventListener('click',()=>{listBtn.classList.add('active');gridBtn.classList.remove('active');items.className='list'});
    gridBtn?.addEventListener('click',()=>{gridBtn.classList.add('active');listBtn.classList.remove('active');items.className='grid'});

    // Filter chips
    const chips = document.getElementById('chips');
    chips?.addEventListener('click', (e)=>{
      const btn = e.target.closest('.chip');
      if(!btn) return;
      chips.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));
      btn.classList.add('active');
      const filter = btn.dataset.filter;
      document.querySelectorAll('#items .card').forEach(card=>{
        const match = filter==='all' || card.dataset.category===filter;
        card.style.display = match ? '' : 'none';
      });
      try{ parent.postMessage({ type:'mock_button_click', key:`closet-chip-${filter}` }, '*'); }catch(err){}
    });

    // Modal preview
    const modal = document.getElementById('modal');
    const mImg = document.getElementById('mImg');
    const mTitle = document.getElementById('mTitle');
    const mBrand = document.getElementById('mBrand');
    const mSize = document.getElementById('mSize');
    const closeBtn = document.getElementById('closeBtn');

    // Card click handlers for product links
    document.getElementById('items').addEventListener('click',(e)=>{
      const card = e.target.closest('.card');
      if(!card) return;
      
      // Don't trigger if clicking on proxy pill
      if(e.target.closest('.proxy-pill')) return;
      
      // Georgia Hardinge dress - open Moda Operandi
      if(card.dataset.name === 'GEORGIA HARDINGE Relic Dress') {
        window.open('https://www.modaoperandi.com/women/p/georgia-hardinge/relic-dress/695474', '_blank');
      }
      
      // Reformation Taryn Two Piece - open Reformation
      if(card.dataset.name === 'Reformation Taryn Two Piece') {
        window.open('https://www.thereformation.com/products/taryn-two-piece/1314122.html?dwvar_1314122_color=BLK&quantity=1', '_blank');
      }
      
      // ALFIE Open Back Cotton Poplin Top - open Moda Operandi
      if(card.dataset.name === 'ALFIE Open Back Cotton Poplin Top') {
        window.open('https://www.modaoperandi.com/women/p/alfie/backless-top/674197?srsltid=AfmBOor2o2fACKUC-rvNvAPHdYfEGt5BCRt7dyRQDL8yekooCQfzU2KI', '_blank');
      }
      
      // AYR The Secret Sauce - open AYR
      if(card.dataset.name === 'AYR The Secret Sauce') {
        window.open('https://www.ayr.com/products/the-secret-sauce-1?srsltid=AfmBOopbH7Jolz4AXmkr1SaY59bvHkQVGsxe9cmGF8XcELel1suOl0nh&variant=42367379669071', '_blank');
      }
      
      // ZARA Flare Pants - open ZARA
      if(card.dataset.name === 'ZARA Flare Pants') {
        window.open('https://www.zara.com/us/en/flare-pants-p03152436.html?v1=483702966&v2=2420795', '_blank');
      }
      
      // COS Shrunken T-shirt - open COS
      if(card.dataset.name === 'COS Shrunken T-shirt') {
        window.open('https://www.cos.com/en-us/women/womenswear/tshirts/slim/product/shrunken-t-shirt-white-1292180003', '_blank');
      }
      
      // ALEXIS Briette Satin Maxi Dress - open Moda Operandi
      if(card.dataset.name === 'ALEXIS Briette Satin Maxi Dress') {
        window.open('https://www.modaoperandi.com/women/p/alexis/briette-dress/685257', '_blank');
      }
    });

    // Tiny JS to open/close proxy modal
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('.proxy-pill');
      if(btn){
        document.querySelector('#proxy-sheet')?.removeAttribute('hidden');
      }
      if(e.target.closest('.proxy-modal__close') || e.target.classList.contains('proxy-modal__overlay')){
        document.querySelector('#proxy-sheet')?.setAttribute('hidden','');
      }
    });

    // FAB click handler - navigate to log-fit-step1
    document.getElementById('addItemFab')?.addEventListener('click', () => {
      window.location.href = 'log-fit-step1.html';
    });

    // (legend help removed as requested)
  </script>

  <script>
  // PJAX fragment swap with prefetch + cache for near-instant transitions
  (function(){
    const SCREEN_SELECTOR = '.screen';
    const CACHE = (window.__pjaxCache = window.__pjaxCache || new Map());
    history.scrollRestoration = 'manual';
    function mergeHead(fromDoc){
      const head = document.head;
      const nodes = fromDoc.querySelectorAll('head style, head link[rel="stylesheet"]');
      nodes.forEach(node=>{
        const key = (node.tagName + ':' + (node.getAttribute('href') || (node.textContent||'').length));
        if(!head.querySelector(`[data-pjax-key="${key}"]`)){
          const clone = node.cloneNode(true);
          clone.setAttribute('data-pjax-key', key);
          head.appendChild(clone);
        }
      });
    }
    function preloadImages(doc){
      doc.querySelectorAll('.pc-hero-img, .img').forEach(img=>{
        const src = img.getAttribute('src');
        if(src){ const im = new Image(); im.src = src; }
      });
    }

    function absUrl(url){ return new URL(url, location.href).href; }

    async function fetchDoc(url){
      const key = absUrl(url);
      if(CACHE.has(key)) return CACHE.get(key);
      const res = await fetch(key, { credentials:'same-origin', cache:'force-cache' });
      const html = await res.text();
      const doc = new DOMParser().parseFromString(html, 'text/html');
      CACHE.set(key, doc);
      return doc;
    }

    async function pjaxNavigate(url, replace){
      const screen = document.querySelector(SCREEN_SELECTOR);
      if(!screen){ window.location.href = url; return; }
      screen.style.transition = 'opacity .12s ease';
      try{
        const doc = await fetchDoc(url);
        mergeHead(doc);
        preloadImages(doc);
        screen.style.opacity = '0';
        requestAnimationFrame(()=>{
          const next = doc.querySelector(SCREEN_SELECTOR);
          if(next){ screen.innerHTML = next.innerHTML; }
          doc.querySelectorAll('body script').forEach(s=>{
            const ns = document.createElement('script');
            if(s.src) ns.src = s.src; else ns.textContent = s.textContent;
            document.body.appendChild(ns);
          });
          const method = replace ? 'replaceState' : 'pushState';
          history[method]({}, '', absUrl(url));
          requestAnimationFrame(()=>{ screen.style.opacity = '1'; });
        });
      }catch(err){
        window.location.href = url;
      }
    }
    document.addEventListener('click', (e)=>{
      const a = e.target.closest('.tabs a[href]');
      if(!a) return;
      const href = a.getAttribute('href');
      if(!href || href==='#') return;
      if(/closet-screen\.html|feed-unified\.html/.test(href)){
        e.preventDefault();
        pjaxNavigate(href, false);
      }
    });
    // Preload counterpart on intent
    function prefetch(url){ fetchDoc(url).then(preloadImages).catch(()=>{}); }
    prefetch('feed-unified.html');
    document.addEventListener('pointerenter', (e)=>{
      const a = e.target.closest('.tabs a[href]');
      if(a) prefetch(a.href);
    }, {passive:true});
    document.addEventListener('touchstart', (e)=>{
      const a = e.target.closest('.tabs a[href]');
      if(a) prefetch(a.href);
    }, {passive:true});
    window.addEventListener('popstate', ()=> pjaxNavigate(location.href, true));
  })();
  </script>

  <script>
  // Smooth navigation between screens without page flash
  (function(){
    const screen = document.querySelector('.screen');
    screen.style.transition = 'opacity 0.15s ease';
    
    // Fade out when navigating away
    document.addEventListener('click', function(e) {
      const link = e.target.closest('a[href="feed-unified.html"]');
      if (!link) return;
      
      e.preventDefault();
      screen.style.opacity = '0';
      
      setTimeout(() => {
        window.location.href = link.href;
      }, 150);
    });
  })();
  </script>
</body>
</html>
